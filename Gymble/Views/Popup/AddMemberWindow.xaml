<Window x:Class="Gymble.Views.Popup.AddMemberWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Gymble.Views.Popup"
        xmlns:converter="clr-namespace:Gymble.Converter"
        xmlns:vms="clr-namespace:Gymble.ViewModels.Popup"
        xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="AddMemberWindow" Height="491" Width="400" ResizeMode="NoResize"
        Style="{StaticResource PopupWindowStyle}" WindowStartupLocation="CenterScreen">
    
    <Border BorderBrush="{StaticResource ApplicationBorderColor}" BorderThickness="1" 
        CornerRadius="15" Background="{StaticResource ApplicationBgColor}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition/>
                <RowDefinition Height="70"/>
            </Grid.RowDefinitions>
            <Border Background="{StaticResource TitleBarBgColor}"
                BorderBrush="{StaticResource DefaultBorderBrushColor}"
                BorderThickness="0 0 0 1">
                <Border.Clip>
                    <MultiBinding Converter="{StaticResource TopRoundRectClipConverter}"
                              ConverterParameter="15">
                        <Binding RelativeSource="{RelativeSource Self}" Path="ActualWidth"/>
                        <Binding RelativeSource="{RelativeSource Self}" Path="ActualHeight"/>
                    </MultiBinding>
                </Border.Clip>
                <Grid>
                    <TextBlock Text="회원 추가" Margin="20 0"
                           Style="{StaticResource TitleTextBlockStyle}"
                           FontSize="20"
                           VerticalAlignment="Center"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center"
                                WindowChrome.IsHitTestVisibleInChrome="True">
                        <Button Content="X" Style="{StaticResource WIndowChromeButtonStyle}"
                            Foreground="Black" FontSize="18" FontWeight="Bold"
                            HorizontalAlignment="Right"
                            Command="{Binding CloseCommand}"
                            CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
                    </StackPanel>
                </Grid>
            </Border>

            <StackPanel Grid.Row="1" Margin="20 15 20 0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="이름" 
                           Style="{StaticResource HeaderKeyTextBlockStyle}"/>
                    <TextBox Grid.Column="1" 
                             Text="{Binding MemberName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource AddMemberWindowTextBoxStyle}"/>
                </Grid>

                <Grid Margin="0 19 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="성별" 
                           Style="{StaticResource HeaderKeyTextBlockStyle}"/>
                    <StackPanel Orientation="Horizontal" Grid.Column="1" Height="37"
                            HorizontalAlignment="Center">
                        <RadioButton Content="남성" GroupName="gender" Tag="Male"
                                 Foreground="Black" FontWeight="Bold" FontSize="14"
                                 Width="110" Height="37" Margin="0 0 25 0"
                                 Style="{StaticResource MaterialDesignChoiceChipPrimaryOutlineRadioButton}"
                                 IsChecked="{Binding SelectedGender, Converter={StaticResource TagMatchConverter}, ConverterParameter=Male, Mode=TwoWay}"/>
                        <RadioButton Content="여성" GroupName="gender" Tag="Female"
                                 Foreground="Black" FontWeight="Bold" FontSize="14"
                                 Width="110" Height="37" Margin="0"
                                 Style="{StaticResource MaterialDesignChoiceChipPrimaryOutlineRadioButton}"
                                 IsChecked="{Binding SelectedGender, Converter={StaticResource TagMatchConverter}, ConverterParameter=Female, Mode=TwoWay}"/>
                    </StackPanel>
                </Grid>

                <Grid Margin="0 19 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="전화번호" 
                           Style="{StaticResource HeaderKeyTextBlockStyle}"/>
                    <StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="1">
                        <TextBox Style="{StaticResource AddMemberWindowTextBoxStyle}"
                             Width="75"
                             Text="{Binding PhoneFirst, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             PreviewTextInput="NumberOnly_PreviewTextInput"
                             MaxLength="3" TextChanged="TextBox_TextChanged"/>
                        <TextBlock Text="-" VerticalAlignment="Center" Margin="2 0"
                               FontWeight="Bold" FontSize="16"/>
                        <TextBox Style="{StaticResource AddMemberWindowTextBoxStyle}"
                             Width="75"
                             Text="{Binding PhoneMiddle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             PreviewTextInput="NumberOnly_PreviewTextInput"
                             MaxLength="4" TextChanged="TextBox_TextChanged"/>
                        <TextBlock Text="-" VerticalAlignment="Center" Margin="2 0"
                               FontWeight="Bold" FontSize="16"/>
                        <TextBox Style="{StaticResource AddMemberWindowTextBoxStyle}"
                             Width="75"
                             Text="{Binding PhoneLast, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"                            
                             PreviewTextInput="NumberOnly_PreviewTextInput"
                             MaxLength="4"/>
                    </StackPanel>
                </Grid>

                <Grid Margin="0 19 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="생년월일" 
                           Style="{StaticResource HeaderKeyTextBlockStyle}"/>
                    <StackPanel Orientation="Horizontal" Grid.Row="3" Grid.Column="1" HorizontalAlignment="Center">
                        <ComboBox Text="연도" Width="90" Height="37"
                              Style="{StaticResource ComboBoxStyle}"
                              ItemsSource="{Binding Years}"
                              SelectedItem="{Binding SelectedYear, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <ComboBox Text="월" Width="70" Margin="9 0" Height="37"
                              Style="{StaticResource ComboBoxStyle}"
                              ItemsSource="{Binding Months}"
                              SelectedItem="{Binding SelectedMonth, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <ComboBox Text="일" Width="70" Height="37"
                              Style="{StaticResource ComboBoxStyle}"
                              ItemsSource="{Binding Days}"
                              SelectedItem="{Binding SelectedDay, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>
                </Grid>

                <Grid Margin="0 19 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="등록일" 
                           Style="{StaticResource HeaderKeyTextBlockStyle}"/>
                    <TextBlock Text="{Binding RegisterDate, Mode=TwoWay, Converter={StaticResource dateTimeConverter}}" 
                           Foreground="Black" FontSize="16"
                           FontFamily="{StaticResource Pretendard.Regular}"
                           Grid.Column="1" 
                           HorizontalAlignment="Left" VerticalAlignment="Center"/>
                </Grid>

                <Grid Margin="0 19 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="메모" VerticalAlignment="Top" Margin="0 8"
                           Style="{StaticResource HeaderKeyTextBlockStyle}"/>
                    <TextBox Text="{Binding Memo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource AddMemberWindowTextBoxStyle}"
                         Grid.Column="1" Height="99"/>
                </Grid>
            </StackPanel>

            <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="20 0"
                    HorizontalAlignment="Right" VerticalAlignment="Center">
                <Button Content="취소" Margin="6 0"
                    Style="{StaticResource AddMemberWindowButton}"
                    BorderThickness="1" Background="#FAFAFA"
                    Foreground="#202020"
                    Command="{Binding CloseCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}}" Cursor="Hand"/>
                <Button Content="추가" Style="{StaticResource AddMemberWindowButton}"
                    Command="{Binding AddCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}}" Cursor="Hand"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
