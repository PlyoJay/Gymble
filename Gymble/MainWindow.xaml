<Window x:Class="Gymble.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Gymble"
        xmlns:vm="clr-namespace:Gymble.ViewModels"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="MainWindow" Height="760" Width="1280"
        Style="{StaticResource WindowChromeStyle}" WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>
    
    <materialDesign:DialogHost DialogTheme="Inherit" Background="Transparent">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Border Grid.ColumnSpan="2" WindowChrome.IsHitTestVisibleInChrome="True"
                    Background="{StaticResource TitleBarBgColor}"
                    BorderBrush="{StaticResource DefaultBorderBrushColor}"
                    BorderThickness="0 0 0 1">
                <Grid>
                    <TextBlock Text="GYMBLE" Margin="15 0"
                               Style="{StaticResource AddMemberWindowTextBlockStyle}"
                               VerticalAlignment="Center"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Button Content="X" Style="{StaticResource WIndowChromeButtonStyle}"
                                Foreground="Black" FontSize="18" FontWeight="Bold"
                                HorizontalAlignment="Right"
                                Command="{Binding CloseCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
                    </StackPanel>
                </Grid>
            </Border>
            <materialDesign:DrawerHost 
                x:Name="RootDrawer" IsLeftDrawerOpen="{Binding IsDrawerOpen, Mode=TwoWay}" 
                OpenMode="Standard" Grid.Row="1">
                <materialDesign:DrawerHost.LeftDrawerContent>
                    <Grid MinWidth="210" Background="#F4F7FE"
                          DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type materialDesign:DrawerHost}}}" Cursor="">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="50"/>
                            <RowDefinition/>
                            <RowDefinition Height="5"/>
                            <RowDefinition Height="70"/>
                        </Grid.RowDefinitions>
                        <Border BorderBrush="{StaticResource DefaultBorderBrushColor}"
                                BorderThickness="0 0 0 1">

                        </Border>

                        <ListBox Grid.Row="1" Margin="0 20"
                                 ItemsSource="{Binding NavigationItems}"
                                 SelectedItem="{Binding SelectedNavItem, Mode=TwoWay}"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 ItemTemplate="{StaticResource SideBarListBoxItemTemplate}">
                        </ListBox>

                        <Separator Grid.Row="2"
                                   Height="1" Margin="10 0"
                                   Background="{StaticResource SeperatorBorderBrushColor}"/>

                        <ListBox Grid.Row="3" VerticalAlignment="Center"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 ItemsSource="{Binding SettingsItem}"
                                 ItemTemplate="{StaticResource SideBarListBoxItemTemplate}">
                        </ListBox>
                    </Grid>
                </materialDesign:DrawerHost.LeftDrawerContent>

                <Border>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="50"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <ToggleButton x:Name="MenuToggleButton" AutomationProperties.Name="HamburgerToggleButton" 
                                      IsChecked="{Binding IsDrawerOpen, Mode=TwoWay}"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                                      Width="30"/>

                        <Border Grid.ColumnSpan="2" 
                                BorderBrush="{StaticResource DefaultBorderBrushColor}"
                                BorderThickness="0 0 0 1">
                        </Border>

                        <ContentControl Grid.Row="1" Grid.ColumnSpan="2" Margin="12" 
                                        Content="{Binding CurrentViewModel}"/>
                    </Grid>
                </Border>
            </materialDesign:DrawerHost>
        </Grid>
    </materialDesign:DialogHost>
</Window>
